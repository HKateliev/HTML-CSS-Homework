{"ast":null,"code":"'use strict';\n\nmodule.exports = hasModernMeta;\nconst npa = require('npm-package-arg');\nconst moduleName = require('../utils/module-name.js');\nfunction isLink(child) {\n  return child.isLink || child.parent && isLink(child.parent);\n}\nfunction hasModernMeta(child) {\n  if (!child) return false;\n  const resolved = child.package._resolved && npa.resolve(moduleName(child), child.package._resolved);\n  const version = npa.resolve(moduleName(child), child.package.version);\n  return child.isTop || isLink(child) || child.fromBundle || child.package._inBundle || child.package._integrity || child.package._shasum || resolved && resolved.type === 'git' || version && version.type === 'git';\n}","map":{"version":3,"names":["module","exports","hasModernMeta","npa","require","moduleName","isLink","child","parent","resolved","package","_resolved","resolve","version","isTop","fromBundle","_inBundle","_integrity","_shasum","type"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/has-modern-meta.js"],"sourcesContent":["'use strict'\nmodule.exports = hasModernMeta\n\nconst npa = require('npm-package-arg')\nconst moduleName = require('../utils/module-name.js')\n\nfunction isLink (child) {\n  return child.isLink || (child.parent && isLink(child.parent))\n}\n\nfunction hasModernMeta (child) {\n  if (!child) return false\n  const resolved = child.package._resolved && npa.resolve(moduleName(child), child.package._resolved)\n  const version = npa.resolve(moduleName(child), child.package.version)\n  return child.isTop ||\n    isLink(child) ||\n    child.fromBundle || child.package._inBundle ||\n    child.package._integrity || child.package._shasum ||\n    (resolved && resolved.type === 'git') || (version && version.type === 'git')\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,OAAO,GAAGC,aAAa;AAE9B,MAAMC,GAAG,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACtC,MAAMC,UAAU,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAErD,SAASE,MAAMA,CAAEC,KAAK,EAAE;EACtB,OAAOA,KAAK,CAACD,MAAM,IAAKC,KAAK,CAACC,MAAM,IAAIF,MAAM,CAACC,KAAK,CAACC,MAAM,CAAE;AAC/D;AAEA,SAASN,aAAaA,CAAEK,KAAK,EAAE;EAC7B,IAAI,CAACA,KAAK,EAAE,OAAO,KAAK;EACxB,MAAME,QAAQ,GAAGF,KAAK,CAACG,OAAO,CAACC,SAAS,IAAIR,GAAG,CAACS,OAAO,CAACP,UAAU,CAACE,KAAK,CAAC,EAAEA,KAAK,CAACG,OAAO,CAACC,SAAS,CAAC;EACnG,MAAME,OAAO,GAAGV,GAAG,CAACS,OAAO,CAACP,UAAU,CAACE,KAAK,CAAC,EAAEA,KAAK,CAACG,OAAO,CAACG,OAAO,CAAC;EACrE,OAAON,KAAK,CAACO,KAAK,IAChBR,MAAM,CAACC,KAAK,CAAC,IACbA,KAAK,CAACQ,UAAU,IAAIR,KAAK,CAACG,OAAO,CAACM,SAAS,IAC3CT,KAAK,CAACG,OAAO,CAACO,UAAU,IAAIV,KAAK,CAACG,OAAO,CAACQ,OAAO,IAChDT,QAAQ,IAAIA,QAAQ,CAACU,IAAI,KAAK,KAAM,IAAKN,OAAO,IAAIA,OAAO,CAACM,IAAI,KAAK,KAAM;AAChF"},"metadata":{},"sourceType":"script","externalDependencies":[]}