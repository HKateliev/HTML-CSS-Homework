{"ast":null,"code":"module.exports = loadCAFile;\nvar fs = require('fs');\nfunction loadCAFile(cafilePath, cb) {\n  if (!cafilePath) return process.nextTick(cb);\n  fs.readFile(cafilePath, 'utf8', afterCARead.bind(this));\n  function afterCARead(er, cadata) {\n    if (er) {\n      // previous cafile no longer exists, so just continue on gracefully\n      if (er.code === 'ENOENT') return cb();\n      return cb(er);\n    }\n    var delim = '-----END CERTIFICATE-----';\n    var output;\n    output = cadata.split(delim).filter(function (xs) {\n      return !!xs.trim();\n    }).map(function (xs) {\n      return xs.trimLeft() + delim;\n    });\n    this.set('ca', output);\n    cb(null);\n  }\n}","map":{"version":3,"names":["module","exports","loadCAFile","fs","require","cafilePath","cb","process","nextTick","readFile","afterCARead","bind","er","cadata","code","delim","output","split","filter","xs","trim","map","trimLeft","set"],"sources":["/Users/hkateliev/node_modules/npm/lib/config/load-cafile.js"],"sourcesContent":["module.exports = loadCAFile\n\nvar fs = require('fs')\n\nfunction loadCAFile (cafilePath, cb) {\n  if (!cafilePath) return process.nextTick(cb)\n\n  fs.readFile(cafilePath, 'utf8', afterCARead.bind(this))\n\n  function afterCARead (er, cadata) {\n    if (er) {\n      // previous cafile no longer exists, so just continue on gracefully\n      if (er.code === 'ENOENT') return cb()\n      return cb(er)\n    }\n\n    var delim = '-----END CERTIFICATE-----'\n    var output\n\n    output = cadata\n      .split(delim)\n      .filter(function (xs) {\n        return !!xs.trim()\n      })\n      .map(function (xs) {\n        return xs.trimLeft() + delim\n      })\n\n    this.set('ca', output)\n    cb(null)\n  }\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAGC,UAAU;AAE3B,IAAIC,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AAEtB,SAASF,UAAUA,CAAEG,UAAU,EAAEC,EAAE,EAAE;EACnC,IAAI,CAACD,UAAU,EAAE,OAAOE,OAAO,CAACC,QAAQ,CAACF,EAAE,CAAC;EAE5CH,EAAE,CAACM,QAAQ,CAACJ,UAAU,EAAE,MAAM,EAAEK,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAEvD,SAASD,WAAWA,CAAEE,EAAE,EAAEC,MAAM,EAAE;IAChC,IAAID,EAAE,EAAE;MACN;MACA,IAAIA,EAAE,CAACE,IAAI,KAAK,QAAQ,EAAE,OAAOR,EAAE,EAAE;MACrC,OAAOA,EAAE,CAACM,EAAE,CAAC;IACf;IAEA,IAAIG,KAAK,GAAG,2BAA2B;IACvC,IAAIC,MAAM;IAEVA,MAAM,GAAGH,MAAM,CACZI,KAAK,CAACF,KAAK,CAAC,CACZG,MAAM,CAAC,UAAUC,EAAE,EAAE;MACpB,OAAO,CAAC,CAACA,EAAE,CAACC,IAAI,EAAE;IACpB,CAAC,CAAC,CACDC,GAAG,CAAC,UAAUF,EAAE,EAAE;MACjB,OAAOA,EAAE,CAACG,QAAQ,EAAE,GAAGP,KAAK;IAC9B,CAAC,CAAC;IAEJ,IAAI,CAACQ,GAAG,CAAC,IAAI,EAAEP,MAAM,CAAC;IACtBV,EAAE,CAAC,IAAI,CAAC;EACV;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}