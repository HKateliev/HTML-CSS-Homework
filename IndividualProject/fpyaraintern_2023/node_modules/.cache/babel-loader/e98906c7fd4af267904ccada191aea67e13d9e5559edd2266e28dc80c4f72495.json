{"ast":null,"code":"'use strict';\n\nconst BB = require('bluebird');\nconst finished = BB.promisify(require('mississippi').finished);\nconst npmConfig = require('../../config/figgy-config.js');\nconst packageId = require('../../utils/package-id.js');\nconst pacote = require('pacote');\nmodule.exports = fetch;\nfunction fetch(staging, pkg, log, next) {\n  log.silly('fetch', packageId(pkg));\n  const opts = npmConfig({\n    integrity: pkg.package._integrity\n  });\n  return finished(pacote.tarball.stream(pkg.package._requested, opts)).then(() => next(), next);\n}","map":{"version":3,"names":["BB","require","finished","promisify","npmConfig","packageId","pacote","module","exports","fetch","staging","pkg","log","next","silly","opts","integrity","package","_integrity","tarball","stream","_requested","then"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/action/fetch.js"],"sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nconst finished = BB.promisify(require('mississippi').finished)\nconst npmConfig = require('../../config/figgy-config.js')\nconst packageId = require('../../utils/package-id.js')\nconst pacote = require('pacote')\n\nmodule.exports = fetch\nfunction fetch (staging, pkg, log, next) {\n  log.silly('fetch', packageId(pkg))\n  const opts = npmConfig({integrity: pkg.package._integrity})\n  return finished(pacote.tarball.stream(pkg.package._requested, opts))\n    .then(() => next(), next)\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,EAAE,GAAGC,OAAO,CAAC,UAAU,CAAC;AAE9B,MAAMC,QAAQ,GAAGF,EAAE,CAACG,SAAS,CAACF,OAAO,CAAC,aAAa,CAAC,CAACC,QAAQ,CAAC;AAC9D,MAAME,SAAS,GAAGH,OAAO,CAAC,8BAA8B,CAAC;AACzD,MAAMI,SAAS,GAAGJ,OAAO,CAAC,2BAA2B,CAAC;AACtD,MAAMK,MAAM,GAAGL,OAAO,CAAC,QAAQ,CAAC;AAEhCM,MAAM,CAACC,OAAO,GAAGC,KAAK;AACtB,SAASA,KAAKA,CAAEC,OAAO,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACvCD,GAAG,CAACE,KAAK,CAAC,OAAO,EAAET,SAAS,CAACM,GAAG,CAAC,CAAC;EAClC,MAAMI,IAAI,GAAGX,SAAS,CAAC;IAACY,SAAS,EAAEL,GAAG,CAACM,OAAO,CAACC;EAAU,CAAC,CAAC;EAC3D,OAAOhB,QAAQ,CAACI,MAAM,CAACa,OAAO,CAACC,MAAM,CAACT,GAAG,CAACM,OAAO,CAACI,UAAU,EAAEN,IAAI,CAAC,CAAC,CACjEO,IAAI,CAAC,MAAMT,IAAI,EAAE,EAAEA,IAAI,CAAC;AAC7B"},"metadata":{},"sourceType":"script","externalDependencies":[]}