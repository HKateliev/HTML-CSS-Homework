{"ast":null,"code":"'use strict';\n\nconst summary = require('./install.js').summary;\nconst Table = require('cli-table3');\nconst Utils = require('../lib/utils');\nconst report = function (data, options) {\n  const defaults = {\n    severityThreshold: 'info'\n  };\n  const blankChars = {\n    'top': ' ',\n    'top-mid': ' ',\n    'top-left': ' ',\n    'top-right': ' ',\n    'bottom': ' ',\n    'bottom-mid': ' ',\n    'bottom-left': ' ',\n    'bottom-right': ' ',\n    'left': ' ',\n    'left-mid': ' ',\n    'mid': ' ',\n    'mid-mid': ' ',\n    'right': ' ',\n    'right-mid': ' ',\n    'middle': ' '\n  };\n  const config = Object.assign({}, defaults, options);\n  let output = '';\n  let exit = 0;\n  const log = function (value) {\n    output = output + value + '\\n';\n  };\n  const footer = function (data) {\n    const total = Utils.totalVulnCount(data.metadata.vulnerabilities);\n    if (total > 0) {\n      exit = 1;\n    }\n    log(`${summary(data, config)} in ${data.metadata.totalDependencies} scanned package${data.metadata.totalDependencies === 1 ? '' : 's'}`);\n    if (total) {\n      const counts = data.actions.reduce((acc, _ref) => {\n        let {\n          action,\n          isMajor,\n          resolves\n        } = _ref;\n        if (action === 'update' || action === 'install' && !isMajor) {\n          resolves.forEach(_ref2 => {\n            let {\n              id,\n              path\n            } = _ref2;\n            return acc.advisories.add(`${id}::${path}`);\n          });\n        }\n        if (isMajor) {\n          resolves.forEach(_ref3 => {\n            let {\n              id,\n              path\n            } = _ref3;\n            return acc.major.add(`${id}::${path}`);\n          });\n        }\n        if (action === 'review') {\n          resolves.forEach(_ref4 => {\n            let {\n              id,\n              path\n            } = _ref4;\n            return acc.review.add(`${id}::${path}`);\n          });\n        }\n        return acc;\n      }, {\n        advisories: new Set(),\n        major: new Set(),\n        review: new Set()\n      });\n      if (counts.advisories.size) {\n        log(`  run \\`npm audit fix\\` to fix ${counts.advisories.size} of them.`);\n      }\n      if (counts.major.size) {\n        const maj = counts.major.size;\n        log(`  ${maj} vulnerabilit${maj === 1 ? 'y' : 'ies'} require${maj === 1 ? 's' : ''} semver-major dependency updates.`);\n      }\n      if (counts.review.size) {\n        const rev = counts.review.size;\n        log(`  ${rev} vulnerabilit${rev === 1 ? 'y' : 'ies'} require${rev === 1 ? 's' : ''} manual review. See the full report for details.`);\n      }\n    }\n  };\n  const reportTitle = function () {\n    const tableOptions = {\n      colWidths: [78]\n    };\n    tableOptions.chars = blankChars;\n    const table = new Table(tableOptions);\n    table.push([{\n      content: '=== npm audit security report ===',\n      vAlign: 'center',\n      hAlign: 'center'\n    }]);\n    log(table.toString());\n  };\n  const actions = function (data, config) {\n    reportTitle();\n    if (Object.keys(data.advisories).length !== 0) {\n      // vulns found display a report.\n\n      let reviewFlag = false;\n      data.actions.forEach(action => {\n        if (action.action === 'update' || action.action === 'install') {\n          const recommendation = getRecommendation(action, config);\n          const label = action.resolves.length === 1 ? 'vulnerability' : 'vulnerabilities';\n          log(`# Run ${Utils.color(' ' + recommendation.cmd + ' ', 'inverse', config.withColor)} to resolve ${action.resolves.length} ${label}`);\n          if (recommendation.isBreaking) {\n            log(`SEMVER WARNING: Recommended action is a potentially breaking change`);\n          }\n          action.resolves.forEach(resolution => {\n            const advisory = data.advisories[resolution.id];\n            const tableOptions = {\n              colWidths: [15, 62],\n              wordWrap: true\n            };\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars;\n            }\n            const table = new Table(tableOptions);\n            table.push({\n              [Utils.severityLabel(advisory.severity, config.withColor, true)]: Utils.color(advisory.title, 'bold', config.withColor)\n            }, {\n              'Package': advisory.module_name\n            }, {\n              'Dependency of': `${resolution.path.split('>')[0]} ${resolution.dev ? '[dev]' : ''}`\n            }, {\n              'Path': `${resolution.path.split('>').join(Utils.color(' > ', 'grey', config.withColor))}`\n            }, {\n              'More info': advisory.url || `https://www.npmjs.com/advisories/${advisory.id}`\n            });\n            log(table.toString() + '\\n\\n');\n          });\n        }\n        if (action.action === 'review') {\n          if (!reviewFlag) {\n            const tableOptions = {\n              colWidths: [78]\n            };\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars;\n            }\n            const table = new Table(tableOptions);\n            table.push([{\n              content: 'Manual Review\\nSome vulnerabilities require your attention to resolve\\n\\nVisit https://go.npm.me/audit-guide for additional guidance',\n              vAlign: 'center',\n              hAlign: 'center'\n            }]);\n            log(table.toString());\n          }\n          reviewFlag = true;\n          action.resolves.forEach(resolution => {\n            const advisory = data.advisories[resolution.id];\n            const tableOptions = {\n              colWidths: [15, 62],\n              wordWrap: true\n            };\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars;\n            }\n            const table = new Table(tableOptions);\n            const patchedIn = advisory.patched_versions.replace(' ', '') === '<0.0.0' ? 'No patch available' : advisory.patched_versions;\n            table.push({\n              [Utils.severityLabel(advisory.severity, config.withColor, true)]: Utils.color(advisory.title, 'bold', config.withColor)\n            }, {\n              'Package': advisory.module_name\n            }, {\n              'Patched in': patchedIn\n            }, {\n              'Dependency of': `${resolution.path.split('>')[0]} ${resolution.dev ? '[dev]' : ''}`\n            }, {\n              'Path': `${resolution.path.split('>').join(Utils.color(' > ', 'grey', config.withColor))}`\n            }, {\n              'More info': advisory.url || `https://www.npmjs.com/advisories/${advisory.id}`\n            });\n            log(table.toString());\n          });\n        }\n      });\n    }\n  };\n  actions(data, config);\n  footer(data);\n  return {\n    report: output.trim(),\n    exitCode: exit\n  };\n};\nconst getRecommendation = function (action, config) {\n  if (action.action === 'install') {\n    const isDev = action.resolves[0].dev;\n    return {\n      cmd: `npm install ${isDev ? '--save-dev ' : ''}${action.module}@${action.target}`,\n      isBreaking: action.isMajor\n    };\n  } else {\n    return {\n      cmd: `npm update ${action.module} --depth ${action.depth}`,\n      isBreaking: false\n    };\n  }\n};\nmodule.exports = report;","map":{"version":3,"names":["summary","require","Table","Utils","report","data","options","defaults","severityThreshold","blankChars","config","Object","assign","output","exit","log","value","footer","total","totalVulnCount","metadata","vulnerabilities","totalDependencies","counts","actions","reduce","acc","_ref","action","isMajor","resolves","forEach","_ref2","id","path","advisories","add","_ref3","major","_ref4","review","Set","size","maj","rev","reportTitle","tableOptions","colWidths","chars","table","push","content","vAlign","hAlign","toString","keys","length","reviewFlag","recommendation","getRecommendation","label","color","cmd","withColor","isBreaking","resolution","advisory","wordWrap","withUnicode","severityLabel","severity","title","module_name","split","dev","join","url","patchedIn","patched_versions","replace","trim","exitCode","isDev","module","target","depth","exports"],"sources":["/Users/hkateliev/node_modules/npm/node_modules/npm-audit-report/reporters/detail.js"],"sourcesContent":["'use strict'\n\nconst summary = require('./install.js').summary\nconst Table = require('cli-table3')\nconst Utils = require('../lib/utils')\n\nconst report = function (data, options) {\n  const defaults = {\n    severityThreshold: 'info'\n  }\n\n  const blankChars = {\n    'top': ' ',\n    'top-mid': ' ',\n    'top-left': ' ',\n    'top-right': ' ',\n    'bottom': ' ',\n    'bottom-mid': ' ',\n    'bottom-left': ' ',\n    'bottom-right': ' ',\n    'left': ' ',\n    'left-mid': ' ',\n    'mid': ' ',\n    'mid-mid': ' ',\n    'right': ' ',\n    'right-mid': ' ',\n    'middle': ' '\n  }\n\n  const config = Object.assign({}, defaults, options)\n\n  let output = ''\n  let exit = 0\n\n  const log = function (value) {\n    output = output + value + '\\n'\n  }\n\n  const footer = function (data) {\n    const total = Utils.totalVulnCount(data.metadata.vulnerabilities)\n\n    if (total > 0) {\n      exit = 1\n    }\n    log(`${summary(data, config)} in ${data.metadata.totalDependencies} scanned package${data.metadata.totalDependencies === 1 ? '' : 's'}`)\n    if (total) {\n      const counts = data.actions.reduce((acc, {action, isMajor, resolves}) => {\n        if (action === 'update' || (action === 'install' && !isMajor)) {\n          resolves.forEach(({id, path}) => acc.advisories.add(`${id}::${path}`))\n        }\n        if (isMajor) {\n          resolves.forEach(({id, path}) => acc.major.add(`${id}::${path}`))\n        }\n        if (action === 'review') {\n          resolves.forEach(({id, path}) => acc.review.add(`${id}::${path}`))\n        }\n        return acc\n      }, {advisories: new Set(), major: new Set(), review: new Set()})\n      if (counts.advisories.size) {\n        log(`  run \\`npm audit fix\\` to fix ${counts.advisories.size} of them.`)\n      }\n      if (counts.major.size) {\n        const maj = counts.major.size\n        log(`  ${maj} vulnerabilit${maj === 1 ? 'y' : 'ies'} require${maj === 1 ? 's' : ''} semver-major dependency updates.`)\n      }\n      if (counts.review.size) {\n        const rev = counts.review.size\n        log(`  ${rev} vulnerabilit${rev === 1 ? 'y' : 'ies'} require${rev === 1 ? 's' : ''} manual review. See the full report for details.`)\n      }\n    }\n  }\n\n  const reportTitle = function () {\n    const tableOptions = {\n      colWidths: [78]\n    }\n    tableOptions.chars = blankChars\n    const table = new Table(tableOptions)\n    table.push([{\n      content: '=== npm audit security report ===',\n      vAlign: 'center',\n      hAlign: 'center'\n    }])\n    log(table.toString())\n  }\n\n  const actions = function (data, config) {\n    reportTitle()\n\n    if (Object.keys(data.advisories).length !== 0) {\n      // vulns found display a report.\n\n      let reviewFlag = false\n\n      data.actions.forEach((action) => {\n        if (action.action === 'update' || action.action === 'install') {\n          const recommendation = getRecommendation(action, config)\n          const label = action.resolves.length === 1 ? 'vulnerability' : 'vulnerabilities'\n          log(`# Run ${Utils.color(' ' + recommendation.cmd + ' ', 'inverse', config.withColor)} to resolve ${action.resolves.length} ${label}`)\n          if (recommendation.isBreaking) {\n            log(`SEMVER WARNING: Recommended action is a potentially breaking change`)\n          }\n\n          action.resolves.forEach((resolution) => {\n            const advisory = data.advisories[resolution.id]\n            const tableOptions = {\n              colWidths: [15, 62],\n              wordWrap: true\n            }\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars\n            }\n            const table = new Table(tableOptions)\n\n            table.push(\n              {[Utils.severityLabel(advisory.severity, config.withColor, true)]: Utils.color(advisory.title, 'bold', config.withColor)},\n              {'Package': advisory.module_name},\n              {'Dependency of': `${resolution.path.split('>')[0]} ${resolution.dev ? '[dev]' : ''}`},\n              {'Path': `${resolution.path.split('>').join(Utils.color(' > ', 'grey', config.withColor))}`},\n              {'More info': advisory.url || `https://www.npmjs.com/advisories/${advisory.id}`}\n            )\n\n            log(table.toString() + '\\n\\n')\n          })\n        }\n        if (action.action === 'review') {\n          if (!reviewFlag) {\n            const tableOptions = {\n              colWidths: [78]\n            }\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars\n            }\n            const table = new Table(tableOptions)\n            table.push([{\n              content: 'Manual Review\\nSome vulnerabilities require your attention to resolve\\n\\nVisit https://go.npm.me/audit-guide for additional guidance',\n              vAlign: 'center',\n              hAlign: 'center'\n            }])\n\n            log(table.toString())\n          }\n          reviewFlag = true\n\n          action.resolves.forEach((resolution) => {\n            const advisory = data.advisories[resolution.id]\n            const tableOptions = {\n              colWidths: [15, 62],\n              wordWrap: true\n            }\n            if (!config.withUnicode) {\n              tableOptions.chars = blankChars\n            }\n            const table = new Table(tableOptions)\n            const patchedIn = advisory.patched_versions.replace(' ', '') === '<0.0.0' ? 'No patch available' : advisory.patched_versions\n\n            table.push(\n              {[Utils.severityLabel(advisory.severity, config.withColor, true)]: Utils.color(advisory.title, 'bold', config.withColor)},\n              {'Package': advisory.module_name},\n              {'Patched in': patchedIn},\n              {'Dependency of': `${resolution.path.split('>')[0]} ${resolution.dev ? '[dev]' : ''}`},\n              {'Path': `${resolution.path.split('>').join(Utils.color(' > ', 'grey', config.withColor))}`},\n              {'More info': advisory.url || `https://www.npmjs.com/advisories/${advisory.id}`}\n            )\n            log(table.toString())\n          })\n        }\n      })\n    }\n  }\n\n  actions(data, config)\n  footer(data)\n\n  return {\n    report: output.trim(),\n    exitCode: exit\n  }\n}\n\nconst getRecommendation = function (action, config) {\n  if (action.action === 'install') {\n    const isDev = action.resolves[0].dev\n\n    return {\n      cmd: `npm install ${isDev ? '--save-dev ' : ''}${action.module}@${action.target}`,\n      isBreaking: action.isMajor\n    }\n  } else {\n    return {\n      cmd: `npm update ${action.module} --depth ${action.depth}`,\n      isBreaking: false\n    }\n  }\n}\n\nmodule.exports = report\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}