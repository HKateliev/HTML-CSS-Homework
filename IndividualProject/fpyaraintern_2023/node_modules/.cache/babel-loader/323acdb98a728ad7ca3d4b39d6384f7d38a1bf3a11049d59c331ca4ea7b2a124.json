{"ast":null,"code":"'use strict';\n\nvar Bluebird = require('bluebird');\nvar lifecycle = Bluebird.promisify(require('../../utils/lifecycle.js'));\nvar packageId = require('../../utils/package-id.js');\nvar rmStuff = Bluebird.promisify(require('../../unbuild.js').rmStuff);\nmodule.exports = function (staging, pkg, log) {\n  log.silly('unbuild', packageId(pkg));\n  return lifecycle(pkg.package, 'preuninstall', pkg.path, {\n    failOk: true\n  }).then(() => {\n    return lifecycle(pkg.package, 'uninstall', pkg.path, {\n      failOk: true\n    });\n  }).then(() => {\n    return rmStuff(pkg.package, pkg.path);\n  }).then(() => {\n    return lifecycle(pkg.package, 'postuninstall', pkg.path, {\n      failOk: true\n    });\n  });\n};","map":{"version":3,"names":["Bluebird","require","lifecycle","promisify","packageId","rmStuff","module","exports","staging","pkg","log","silly","package","path","failOk","then"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/action/unbuild.js"],"sourcesContent":["'use strict'\nvar Bluebird = require('bluebird')\nvar lifecycle = Bluebird.promisify(require('../../utils/lifecycle.js'))\nvar packageId = require('../../utils/package-id.js')\nvar rmStuff = Bluebird.promisify(require('../../unbuild.js').rmStuff)\n\nmodule.exports = function (staging, pkg, log) {\n  log.silly('unbuild', packageId(pkg))\n  return lifecycle(pkg.package, 'preuninstall', pkg.path, { failOk: true }).then(() => {\n    return lifecycle(pkg.package, 'uninstall', pkg.path, { failOk: true })\n  }).then(() => {\n    return rmStuff(pkg.package, pkg.path)\n  }).then(() => {\n    return lifecycle(pkg.package, 'postuninstall', pkg.path, { failOk: true })\n  })\n}\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIC,SAAS,GAAGF,QAAQ,CAACG,SAAS,CAACF,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACvE,IAAIG,SAAS,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACpD,IAAII,OAAO,GAAGL,QAAQ,CAACG,SAAS,CAACF,OAAO,CAAC,kBAAkB,CAAC,CAACI,OAAO,CAAC;AAErEC,MAAM,CAACC,OAAO,GAAG,UAAUC,OAAO,EAAEC,GAAG,EAAEC,GAAG,EAAE;EAC5CA,GAAG,CAACC,KAAK,CAAC,SAAS,EAAEP,SAAS,CAACK,GAAG,CAAC,CAAC;EACpC,OAAOP,SAAS,CAACO,GAAG,CAACG,OAAO,EAAE,cAAc,EAAEH,GAAG,CAACI,IAAI,EAAE;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;IACnF,OAAOb,SAAS,CAACO,GAAG,CAACG,OAAO,EAAE,WAAW,EAAEH,GAAG,CAACI,IAAI,EAAE;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EACxE,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;IACZ,OAAOV,OAAO,CAACI,GAAG,CAACG,OAAO,EAAEH,GAAG,CAACI,IAAI,CAAC;EACvC,CAAC,CAAC,CAACE,IAAI,CAAC,MAAM;IACZ,OAAOb,SAAS,CAACO,GAAG,CAACG,OAAO,EAAE,eAAe,EAAEH,GAAG,CAACI,IAAI,EAAE;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EAC5E,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}