{"ast":null,"code":"'use strict';\n\nconst Buffer = require('safe-buffer').Buffer;\nconst checkResponse = require('./check-response.js');\nconst config = require('./config.js');\nconst getAuth = require('./auth.js');\nconst fetch = require('make-fetch-happen');\nconst JSONStream = require('JSONStream');\nconst npa = require('npm-package-arg');\nconst {\n  PassThrough\n} = require('stream');\nconst qs = require('querystring');\nconst url = require('url');\nconst zlib = require('zlib');\nmodule.exports = regFetch;\nfunction regFetch(uri, opts) {\n  opts = config(opts);\n  const registry = opts.spec && pickRegistry(opts.spec, opts) || opts.registry || 'https://registry.npmjs.org/';\n  uri = url.parse(uri).protocol ? uri : `${registry.trim().replace(/\\/?$/g, '')}/${uri.trim().replace(/^\\//, '')}`;\n  // through that takes into account the scope, the prefix of `uri`, etc\n  const startTime = Date.now();\n  const headers = getHeaders(registry, uri, opts);\n  let body = opts.body;\n  const bodyIsStream = body && typeof body === 'object' && typeof body.pipe === 'function';\n  if (body && !bodyIsStream && typeof body !== 'string' && !Buffer.isBuffer(body)) {\n    headers['content-type'] = headers['content-type'] || 'application/json';\n    body = JSON.stringify(body);\n  } else if (body && !headers['content-type']) {\n    headers['content-type'] = 'application/octet-stream';\n  }\n  if (opts.gzip) {\n    headers['content-encoding'] = 'gzip';\n    if (bodyIsStream) {\n      const gz = zlib.createGzip();\n      body.on('error', err => gz.emit('error', err));\n      body = body.pipe(gz);\n    } else {\n      body = new opts.Promise((resolve, reject) => {\n        zlib.gzip(body, (err, gz) => err ? reject(err) : resolve(gz));\n      });\n    }\n  }\n  let q = opts.query;\n  if (q) {\n    if (typeof q === 'string') {\n      q = qs.parse(q);\n    } else if (typeof q !== 'object') {\n      throw new TypeError('invalid query option, must be string or object');\n    }\n    Object.keys(q).forEach(key => {\n      if (q[key] === undefined) {\n        delete q[key];\n      }\n    });\n  }\n  const parsed = url.parse(uri);\n  const query = parsed.query ? Object.assign(qs.parse(parsed.query), q || {}) : Object.keys(q || {}).length ? q : null;\n  if (query) {\n    if (String(query.write) === 'true' && opts.method === 'GET') {\n      opts = opts.concat({\n        offline: false,\n        'prefer-offline': false,\n        'prefer-online': true\n      });\n    }\n    parsed.search = '?' + qs.stringify(query);\n    uri = url.format(parsed);\n  }\n  return opts.Promise.resolve(body).then(body => fetch(uri, {\n    agent: opts.agent,\n    algorithms: opts.algorithms,\n    body,\n    cache: getCacheMode(opts),\n    cacheManager: opts.cache,\n    ca: opts.ca,\n    cert: opts.cert,\n    headers,\n    integrity: opts.integrity,\n    key: opts.key,\n    localAddress: opts['local-address'],\n    maxSockets: opts.maxsockets,\n    memoize: opts.memoize,\n    method: opts.method || 'GET',\n    noProxy: opts['no-proxy'] || opts.noproxy,\n    Promise: opts.Promise,\n    proxy: opts['https-proxy'] || opts.proxy,\n    referer: opts.refer,\n    retry: opts.retry != null ? opts.retry : {\n      retries: opts['fetch-retries'],\n      factor: opts['fetch-retry-factor'],\n      minTimeout: opts['fetch-retry-mintimeout'],\n      maxTimeout: opts['fetch-retry-maxtimeout']\n    },\n    strictSSL: !!opts['strict-ssl'],\n    timeout: opts.timeout\n  }).then(res => checkResponse(opts.method || 'GET', res, registry, startTime, opts)));\n}\nmodule.exports.json = fetchJSON;\nfunction fetchJSON(uri, opts) {\n  return regFetch(uri, opts).then(res => res.json());\n}\nmodule.exports.json.stream = fetchJSONStream;\nfunction fetchJSONStream(uri, jsonPath, opts) {\n  opts = config(opts);\n  const parser = JSONStream.parse(jsonPath, opts.mapJson);\n  const pt = parser.pipe(new PassThrough({\n    objectMode: true\n  }));\n  parser.on('error', err => pt.emit('error', err));\n  regFetch(uri, opts).then(res => {\n    res.body.on('error', err => parser.emit('error', err));\n    res.body.pipe(parser);\n  }, err => pt.emit('error', err));\n  return pt;\n}\nmodule.exports.pickRegistry = pickRegistry;\nfunction pickRegistry(spec, opts) {\n  spec = npa(spec);\n  opts = config(opts);\n  let registry = spec.scope && opts[spec.scope.replace(/^@?/, '@') + ':registry'];\n  if (!registry && opts.scope) {\n    registry = opts[opts.scope.replace(/^@?/, '@') + ':registry'];\n  }\n  if (!registry) {\n    registry = opts.registry || 'https://registry.npmjs.org/';\n  }\n  return registry;\n}\nfunction getCacheMode(opts) {\n  return opts.offline ? 'only-if-cached' : opts['prefer-offline'] ? 'force-cache' : opts['prefer-online'] ? 'no-cache' : 'default';\n}\nfunction getHeaders(registry, uri, opts) {\n  const headers = Object.assign({\n    'npm-in-ci': !!(opts['is-from-ci'] || process.env['CI'] === 'true' || process.env['TDDIUM'] || process.env['JENKINS_URL'] || process.env['bamboo.buildKey'] || process.env['GO_PIPELINE_NAME']),\n    'npm-scope': opts['project-scope'],\n    'npm-session': opts['npm-session'],\n    'user-agent': opts['user-agent'],\n    'referer': opts.refer\n  }, opts.headers);\n  const auth = getAuth(registry, opts);\n  // If a tarball is hosted on a different place than the manifest, only send\n  // credentials on `alwaysAuth`\n  const shouldAuth = auth.alwaysAuth || url.parse(uri).host === url.parse(registry).host;\n  if (shouldAuth && auth.token) {\n    headers.authorization = `Bearer ${auth.token}`;\n  } else if (shouldAuth && auth.username && auth.password) {\n    const encoded = Buffer.from(`${auth.username}:${auth.password}`, 'utf8').toString('base64');\n    headers.authorization = `Basic ${encoded}`;\n  } else if (shouldAuth && auth._auth) {\n    headers.authorization = `Basic ${auth._auth}`;\n  }\n  if (shouldAuth && auth.otp) {\n    headers['npm-otp'] = auth.otp;\n  }\n  return headers;\n}","map":{"version":3,"names":["Buffer","require","checkResponse","config","getAuth","fetch","JSONStream","npa","PassThrough","qs","url","zlib","module","exports","regFetch","uri","opts","registry","spec","pickRegistry","parse","protocol","trim","replace","startTime","Date","now","headers","getHeaders","body","bodyIsStream","pipe","isBuffer","JSON","stringify","gzip","gz","createGzip","on","err","emit","Promise","resolve","reject","q","query","TypeError","Object","keys","forEach","key","undefined","parsed","assign","length","String","write","method","concat","offline","search","format","then","agent","algorithms","cache","getCacheMode","cacheManager","ca","cert","integrity","localAddress","maxSockets","maxsockets","memoize","noProxy","noproxy","proxy","referer","refer","retry","retries","factor","minTimeout","maxTimeout","strictSSL","timeout","res","json","fetchJSON","stream","fetchJSONStream","jsonPath","parser","mapJson","pt","objectMode","scope","process","env","auth","shouldAuth","alwaysAuth","host","token","authorization","username","password","encoded","from","toString","_auth","otp"],"sources":["/Users/hkateliev/node_modules/npm/node_modules/npm-registry-fetch/index.js"],"sourcesContent":["'use strict'\n\nconst Buffer = require('safe-buffer').Buffer\n\nconst checkResponse = require('./check-response.js')\nconst config = require('./config.js')\nconst getAuth = require('./auth.js')\nconst fetch = require('make-fetch-happen')\nconst JSONStream = require('JSONStream')\nconst npa = require('npm-package-arg')\nconst {PassThrough} = require('stream')\nconst qs = require('querystring')\nconst url = require('url')\nconst zlib = require('zlib')\n\nmodule.exports = regFetch\nfunction regFetch (uri, opts) {\n  opts = config(opts)\n  const registry = (\n    (opts.spec && pickRegistry(opts.spec, opts)) ||\n    opts.registry ||\n    'https://registry.npmjs.org/'\n  )\n  uri = url.parse(uri).protocol\n    ? uri\n    : `${\n      registry.trim().replace(/\\/?$/g, '')\n    }/${\n      uri.trim().replace(/^\\//, '')\n    }`\n  // through that takes into account the scope, the prefix of `uri`, etc\n  const startTime = Date.now()\n  const headers = getHeaders(registry, uri, opts)\n  let body = opts.body\n  const bodyIsStream = body &&\n    typeof body === 'object' &&\n    typeof body.pipe === 'function'\n  if (body && !bodyIsStream && typeof body !== 'string' && !Buffer.isBuffer(body)) {\n    headers['content-type'] = headers['content-type'] || 'application/json'\n    body = JSON.stringify(body)\n  } else if (body && !headers['content-type']) {\n    headers['content-type'] = 'application/octet-stream'\n  }\n  if (opts.gzip) {\n    headers['content-encoding'] = 'gzip'\n    if (bodyIsStream) {\n      const gz = zlib.createGzip()\n      body.on('error', err => gz.emit('error', err))\n      body = body.pipe(gz)\n    } else {\n      body = new opts.Promise((resolve, reject) => {\n        zlib.gzip(body, (err, gz) => err ? reject(err) : resolve(gz))\n      })\n    }\n  }\n\n  let q = opts.query\n  if (q) {\n    if (typeof q === 'string') {\n      q = qs.parse(q)\n    } else if (typeof q !== 'object') {\n      throw new TypeError('invalid query option, must be string or object')\n    }\n    Object.keys(q).forEach(key => {\n      if (q[key] === undefined) {\n        delete q[key]\n      }\n    })\n  }\n  const parsed = url.parse(uri)\n\n  const query = parsed.query ? Object.assign(qs.parse(parsed.query), q || {})\n    : Object.keys(q || {}).length ? q\n      : null\n\n  if (query) {\n    if (String(query.write) === 'true' && opts.method === 'GET') {\n      opts = opts.concat({\n        offline: false,\n        'prefer-offline': false,\n        'prefer-online': true\n      })\n    }\n    parsed.search = '?' + qs.stringify(query)\n    uri = url.format(parsed)\n  }\n\n  return opts.Promise.resolve(body).then(body => fetch(uri, {\n    agent: opts.agent,\n    algorithms: opts.algorithms,\n    body,\n    cache: getCacheMode(opts),\n    cacheManager: opts.cache,\n    ca: opts.ca,\n    cert: opts.cert,\n    headers,\n    integrity: opts.integrity,\n    key: opts.key,\n    localAddress: opts['local-address'],\n    maxSockets: opts.maxsockets,\n    memoize: opts.memoize,\n    method: opts.method || 'GET',\n    noProxy: opts['no-proxy'] || opts.noproxy,\n    Promise: opts.Promise,\n    proxy: opts['https-proxy'] || opts.proxy,\n    referer: opts.refer,\n    retry: opts.retry != null ? opts.retry : {\n      retries: opts['fetch-retries'],\n      factor: opts['fetch-retry-factor'],\n      minTimeout: opts['fetch-retry-mintimeout'],\n      maxTimeout: opts['fetch-retry-maxtimeout']\n    },\n    strictSSL: !!opts['strict-ssl'],\n    timeout: opts.timeout\n  }).then(res => checkResponse(\n    opts.method || 'GET', res, registry, startTime, opts\n  )))\n}\n\nmodule.exports.json = fetchJSON\nfunction fetchJSON (uri, opts) {\n  return regFetch(uri, opts).then(res => res.json())\n}\n\nmodule.exports.json.stream = fetchJSONStream\nfunction fetchJSONStream (uri, jsonPath, opts) {\n  opts = config(opts)\n  const parser = JSONStream.parse(jsonPath, opts.mapJson)\n  const pt = parser.pipe(new PassThrough({objectMode: true}))\n  parser.on('error', err => pt.emit('error', err))\n  regFetch(uri, opts).then(res => {\n    res.body.on('error', err => parser.emit('error', err))\n    res.body.pipe(parser)\n  }, err => pt.emit('error', err))\n  return pt\n}\n\nmodule.exports.pickRegistry = pickRegistry\nfunction pickRegistry (spec, opts) {\n  spec = npa(spec)\n  opts = config(opts)\n  let registry = spec.scope &&\n    opts[spec.scope.replace(/^@?/, '@') + ':registry']\n\n  if (!registry && opts.scope) {\n    registry = opts[opts.scope.replace(/^@?/, '@') + ':registry']\n  }\n\n  if (!registry) {\n    registry = opts.registry || 'https://registry.npmjs.org/'\n  }\n\n  return registry\n}\n\nfunction getCacheMode (opts) {\n  return opts.offline\n    ? 'only-if-cached'\n    : opts['prefer-offline']\n      ? 'force-cache'\n      : opts['prefer-online']\n        ? 'no-cache'\n        : 'default'\n}\n\nfunction getHeaders (registry, uri, opts) {\n  const headers = Object.assign({\n    'npm-in-ci': !!(\n      opts['is-from-ci'] ||\n      process.env['CI'] === 'true' ||\n      process.env['TDDIUM'] ||\n      process.env['JENKINS_URL'] ||\n      process.env['bamboo.buildKey'] ||\n      process.env['GO_PIPELINE_NAME']\n    ),\n    'npm-scope': opts['project-scope'],\n    'npm-session': opts['npm-session'],\n    'user-agent': opts['user-agent'],\n    'referer': opts.refer\n  }, opts.headers)\n\n  const auth = getAuth(registry, opts)\n  // If a tarball is hosted on a different place than the manifest, only send\n  // credentials on `alwaysAuth`\n  const shouldAuth = (\n    auth.alwaysAuth ||\n    url.parse(uri).host === url.parse(registry).host\n  )\n  if (shouldAuth && auth.token) {\n    headers.authorization = `Bearer ${auth.token}`\n  } else if (shouldAuth && auth.username && auth.password) {\n    const encoded = Buffer.from(\n      `${auth.username}:${auth.password}`, 'utf8'\n    ).toString('base64')\n    headers.authorization = `Basic ${encoded}`\n  } else if (shouldAuth && auth._auth) {\n    headers.authorization = `Basic ${auth._auth}`\n  }\n  if (shouldAuth && auth.otp) {\n    headers['npm-otp'] = auth.otp\n  }\n  return headers\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,MAAM,GAAGC,OAAO,CAAC,aAAa,CAAC,CAACD,MAAM;AAE5C,MAAME,aAAa,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AACpD,MAAME,MAAM,GAAGF,OAAO,CAAC,aAAa,CAAC;AACrC,MAAMG,OAAO,GAAGH,OAAO,CAAC,WAAW,CAAC;AACpC,MAAMI,KAAK,GAAGJ,OAAO,CAAC,mBAAmB,CAAC;AAC1C,MAAMK,UAAU,GAAGL,OAAO,CAAC,YAAY,CAAC;AACxC,MAAMM,GAAG,GAAGN,OAAO,CAAC,iBAAiB,CAAC;AACtC,MAAM;EAACO;AAAW,CAAC,GAAGP,OAAO,CAAC,QAAQ,CAAC;AACvC,MAAMQ,EAAE,GAAGR,OAAO,CAAC,aAAa,CAAC;AACjC,MAAMS,GAAG,GAAGT,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMU,IAAI,GAAGV,OAAO,CAAC,MAAM,CAAC;AAE5BW,MAAM,CAACC,OAAO,GAAGC,QAAQ;AACzB,SAASA,QAAQA,CAAEC,GAAG,EAAEC,IAAI,EAAE;EAC5BA,IAAI,GAAGb,MAAM,CAACa,IAAI,CAAC;EACnB,MAAMC,QAAQ,GACXD,IAAI,CAACE,IAAI,IAAIC,YAAY,CAACH,IAAI,CAACE,IAAI,EAAEF,IAAI,CAAC,IAC3CA,IAAI,CAACC,QAAQ,IACb,6BACD;EACDF,GAAG,GAAGL,GAAG,CAACU,KAAK,CAACL,GAAG,CAAC,CAACM,QAAQ,GACzBN,GAAG,GACF,GACDE,QAAQ,CAACK,IAAI,EAAE,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CACpC,IACCR,GAAG,CAACO,IAAI,EAAE,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAC7B,EAAC;EACJ;EACA,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,EAAE;EAC5B,MAAMC,OAAO,GAAGC,UAAU,CAACX,QAAQ,EAAEF,GAAG,EAAEC,IAAI,CAAC;EAC/C,IAAIa,IAAI,GAAGb,IAAI,CAACa,IAAI;EACpB,MAAMC,YAAY,GAAGD,IAAI,IACvB,OAAOA,IAAI,KAAK,QAAQ,IACxB,OAAOA,IAAI,CAACE,IAAI,KAAK,UAAU;EACjC,IAAIF,IAAI,IAAI,CAACC,YAAY,IAAI,OAAOD,IAAI,KAAK,QAAQ,IAAI,CAAC7B,MAAM,CAACgC,QAAQ,CAACH,IAAI,CAAC,EAAE;IAC/EF,OAAO,CAAC,cAAc,CAAC,GAAGA,OAAO,CAAC,cAAc,CAAC,IAAI,kBAAkB;IACvEE,IAAI,GAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC;EAC7B,CAAC,MAAM,IAAIA,IAAI,IAAI,CAACF,OAAO,CAAC,cAAc,CAAC,EAAE;IAC3CA,OAAO,CAAC,cAAc,CAAC,GAAG,0BAA0B;EACtD;EACA,IAAIX,IAAI,CAACmB,IAAI,EAAE;IACbR,OAAO,CAAC,kBAAkB,CAAC,GAAG,MAAM;IACpC,IAAIG,YAAY,EAAE;MAChB,MAAMM,EAAE,GAAGzB,IAAI,CAAC0B,UAAU,EAAE;MAC5BR,IAAI,CAACS,EAAE,CAAC,OAAO,EAAEC,GAAG,IAAIH,EAAE,CAACI,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC,CAAC;MAC9CV,IAAI,GAAGA,IAAI,CAACE,IAAI,CAACK,EAAE,CAAC;IACtB,CAAC,MAAM;MACLP,IAAI,GAAG,IAAIb,IAAI,CAACyB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QAC3ChC,IAAI,CAACwB,IAAI,CAACN,IAAI,EAAE,CAACU,GAAG,EAAEH,EAAE,KAAKG,GAAG,GAAGI,MAAM,CAACJ,GAAG,CAAC,GAAGG,OAAO,CAACN,EAAE,CAAC,CAAC;MAC/D,CAAC,CAAC;IACJ;EACF;EAEA,IAAIQ,CAAC,GAAG5B,IAAI,CAAC6B,KAAK;EAClB,IAAID,CAAC,EAAE;IACL,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE;MACzBA,CAAC,GAAGnC,EAAE,CAACW,KAAK,CAACwB,CAAC,CAAC;IACjB,CAAC,MAAM,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAE;MAChC,MAAM,IAAIE,SAAS,CAAC,gDAAgD,CAAC;IACvE;IACAC,MAAM,CAACC,IAAI,CAACJ,CAAC,CAAC,CAACK,OAAO,CAACC,GAAG,IAAI;MAC5B,IAAIN,CAAC,CAACM,GAAG,CAAC,KAAKC,SAAS,EAAE;QACxB,OAAOP,CAAC,CAACM,GAAG,CAAC;MACf;IACF,CAAC,CAAC;EACJ;EACA,MAAME,MAAM,GAAG1C,GAAG,CAACU,KAAK,CAACL,GAAG,CAAC;EAE7B,MAAM8B,KAAK,GAAGO,MAAM,CAACP,KAAK,GAAGE,MAAM,CAACM,MAAM,CAAC5C,EAAE,CAACW,KAAK,CAACgC,MAAM,CAACP,KAAK,CAAC,EAAED,CAAC,IAAI,CAAC,CAAC,CAAC,GACvEG,MAAM,CAACC,IAAI,CAACJ,CAAC,IAAI,CAAC,CAAC,CAAC,CAACU,MAAM,GAAGV,CAAC,GAC7B,IAAI;EAEV,IAAIC,KAAK,EAAE;IACT,IAAIU,MAAM,CAACV,KAAK,CAACW,KAAK,CAAC,KAAK,MAAM,IAAIxC,IAAI,CAACyC,MAAM,KAAK,KAAK,EAAE;MAC3DzC,IAAI,GAAGA,IAAI,CAAC0C,MAAM,CAAC;QACjBC,OAAO,EAAE,KAAK;QACd,gBAAgB,EAAE,KAAK;QACvB,eAAe,EAAE;MACnB,CAAC,CAAC;IACJ;IACAP,MAAM,CAACQ,MAAM,GAAG,GAAG,GAAGnD,EAAE,CAACyB,SAAS,CAACW,KAAK,CAAC;IACzC9B,GAAG,GAAGL,GAAG,CAACmD,MAAM,CAACT,MAAM,CAAC;EAC1B;EAEA,OAAOpC,IAAI,CAACyB,OAAO,CAACC,OAAO,CAACb,IAAI,CAAC,CAACiC,IAAI,CAACjC,IAAI,IAAIxB,KAAK,CAACU,GAAG,EAAE;IACxDgD,KAAK,EAAE/C,IAAI,CAAC+C,KAAK;IACjBC,UAAU,EAAEhD,IAAI,CAACgD,UAAU;IAC3BnC,IAAI;IACJoC,KAAK,EAAEC,YAAY,CAAClD,IAAI,CAAC;IACzBmD,YAAY,EAAEnD,IAAI,CAACiD,KAAK;IACxBG,EAAE,EAAEpD,IAAI,CAACoD,EAAE;IACXC,IAAI,EAAErD,IAAI,CAACqD,IAAI;IACf1C,OAAO;IACP2C,SAAS,EAAEtD,IAAI,CAACsD,SAAS;IACzBpB,GAAG,EAAElC,IAAI,CAACkC,GAAG;IACbqB,YAAY,EAAEvD,IAAI,CAAC,eAAe,CAAC;IACnCwD,UAAU,EAAExD,IAAI,CAACyD,UAAU;IAC3BC,OAAO,EAAE1D,IAAI,CAAC0D,OAAO;IACrBjB,MAAM,EAAEzC,IAAI,CAACyC,MAAM,IAAI,KAAK;IAC5BkB,OAAO,EAAE3D,IAAI,CAAC,UAAU,CAAC,IAAIA,IAAI,CAAC4D,OAAO;IACzCnC,OAAO,EAAEzB,IAAI,CAACyB,OAAO;IACrBoC,KAAK,EAAE7D,IAAI,CAAC,aAAa,CAAC,IAAIA,IAAI,CAAC6D,KAAK;IACxCC,OAAO,EAAE9D,IAAI,CAAC+D,KAAK;IACnBC,KAAK,EAAEhE,IAAI,CAACgE,KAAK,IAAI,IAAI,GAAGhE,IAAI,CAACgE,KAAK,GAAG;MACvCC,OAAO,EAAEjE,IAAI,CAAC,eAAe,CAAC;MAC9BkE,MAAM,EAAElE,IAAI,CAAC,oBAAoB,CAAC;MAClCmE,UAAU,EAAEnE,IAAI,CAAC,wBAAwB,CAAC;MAC1CoE,UAAU,EAAEpE,IAAI,CAAC,wBAAwB;IAC3C,CAAC;IACDqE,SAAS,EAAE,CAAC,CAACrE,IAAI,CAAC,YAAY,CAAC;IAC/BsE,OAAO,EAAEtE,IAAI,CAACsE;EAChB,CAAC,CAAC,CAACxB,IAAI,CAACyB,GAAG,IAAIrF,aAAa,CAC1Bc,IAAI,CAACyC,MAAM,IAAI,KAAK,EAAE8B,GAAG,EAAEtE,QAAQ,EAAEO,SAAS,EAAER,IAAI,CACrD,CAAC,CAAC;AACL;AAEAJ,MAAM,CAACC,OAAO,CAAC2E,IAAI,GAAGC,SAAS;AAC/B,SAASA,SAASA,CAAE1E,GAAG,EAAEC,IAAI,EAAE;EAC7B,OAAOF,QAAQ,CAACC,GAAG,EAAEC,IAAI,CAAC,CAAC8C,IAAI,CAACyB,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC;AACpD;AAEA5E,MAAM,CAACC,OAAO,CAAC2E,IAAI,CAACE,MAAM,GAAGC,eAAe;AAC5C,SAASA,eAAeA,CAAE5E,GAAG,EAAE6E,QAAQ,EAAE5E,IAAI,EAAE;EAC7CA,IAAI,GAAGb,MAAM,CAACa,IAAI,CAAC;EACnB,MAAM6E,MAAM,GAAGvF,UAAU,CAACc,KAAK,CAACwE,QAAQ,EAAE5E,IAAI,CAAC8E,OAAO,CAAC;EACvD,MAAMC,EAAE,GAAGF,MAAM,CAAC9D,IAAI,CAAC,IAAIvB,WAAW,CAAC;IAACwF,UAAU,EAAE;EAAI,CAAC,CAAC,CAAC;EAC3DH,MAAM,CAACvD,EAAE,CAAC,OAAO,EAAEC,GAAG,IAAIwD,EAAE,CAACvD,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC,CAAC;EAChDzB,QAAQ,CAACC,GAAG,EAAEC,IAAI,CAAC,CAAC8C,IAAI,CAACyB,GAAG,IAAI;IAC9BA,GAAG,CAAC1D,IAAI,CAACS,EAAE,CAAC,OAAO,EAAEC,GAAG,IAAIsD,MAAM,CAACrD,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC,CAAC;IACtDgD,GAAG,CAAC1D,IAAI,CAACE,IAAI,CAAC8D,MAAM,CAAC;EACvB,CAAC,EAAEtD,GAAG,IAAIwD,EAAE,CAACvD,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC,CAAC;EAChC,OAAOwD,EAAE;AACX;AAEAnF,MAAM,CAACC,OAAO,CAACM,YAAY,GAAGA,YAAY;AAC1C,SAASA,YAAYA,CAAED,IAAI,EAAEF,IAAI,EAAE;EACjCE,IAAI,GAAGX,GAAG,CAACW,IAAI,CAAC;EAChBF,IAAI,GAAGb,MAAM,CAACa,IAAI,CAAC;EACnB,IAAIC,QAAQ,GAAGC,IAAI,CAAC+E,KAAK,IACvBjF,IAAI,CAACE,IAAI,CAAC+E,KAAK,CAAC1E,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,WAAW,CAAC;EAEpD,IAAI,CAACN,QAAQ,IAAID,IAAI,CAACiF,KAAK,EAAE;IAC3BhF,QAAQ,GAAGD,IAAI,CAACA,IAAI,CAACiF,KAAK,CAAC1E,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,WAAW,CAAC;EAC/D;EAEA,IAAI,CAACN,QAAQ,EAAE;IACbA,QAAQ,GAAGD,IAAI,CAACC,QAAQ,IAAI,6BAA6B;EAC3D;EAEA,OAAOA,QAAQ;AACjB;AAEA,SAASiD,YAAYA,CAAElD,IAAI,EAAE;EAC3B,OAAOA,IAAI,CAAC2C,OAAO,GACf,gBAAgB,GAChB3C,IAAI,CAAC,gBAAgB,CAAC,GACpB,aAAa,GACbA,IAAI,CAAC,eAAe,CAAC,GACnB,UAAU,GACV,SAAS;AACnB;AAEA,SAASY,UAAUA,CAAEX,QAAQ,EAAEF,GAAG,EAAEC,IAAI,EAAE;EACxC,MAAMW,OAAO,GAAGoB,MAAM,CAACM,MAAM,CAAC;IAC5B,WAAW,EAAE,CAAC,EACZrC,IAAI,CAAC,YAAY,CAAC,IAClBkF,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC,KAAK,MAAM,IAC5BD,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,IACrBD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,IAC1BD,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,IAC9BD,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAChC;IACD,WAAW,EAAEnF,IAAI,CAAC,eAAe,CAAC;IAClC,aAAa,EAAEA,IAAI,CAAC,aAAa,CAAC;IAClC,YAAY,EAAEA,IAAI,CAAC,YAAY,CAAC;IAChC,SAAS,EAAEA,IAAI,CAAC+D;EAClB,CAAC,EAAE/D,IAAI,CAACW,OAAO,CAAC;EAEhB,MAAMyE,IAAI,GAAGhG,OAAO,CAACa,QAAQ,EAAED,IAAI,CAAC;EACpC;EACA;EACA,MAAMqF,UAAU,GACdD,IAAI,CAACE,UAAU,IACf5F,GAAG,CAACU,KAAK,CAACL,GAAG,CAAC,CAACwF,IAAI,KAAK7F,GAAG,CAACU,KAAK,CAACH,QAAQ,CAAC,CAACsF,IAC7C;EACD,IAAIF,UAAU,IAAID,IAAI,CAACI,KAAK,EAAE;IAC5B7E,OAAO,CAAC8E,aAAa,GAAI,UAASL,IAAI,CAACI,KAAM,EAAC;EAChD,CAAC,MAAM,IAAIH,UAAU,IAAID,IAAI,CAACM,QAAQ,IAAIN,IAAI,CAACO,QAAQ,EAAE;IACvD,MAAMC,OAAO,GAAG5G,MAAM,CAAC6G,IAAI,CACxB,GAAET,IAAI,CAACM,QAAS,IAAGN,IAAI,CAACO,QAAS,EAAC,EAAE,MAAM,CAC5C,CAACG,QAAQ,CAAC,QAAQ,CAAC;IACpBnF,OAAO,CAAC8E,aAAa,GAAI,SAAQG,OAAQ,EAAC;EAC5C,CAAC,MAAM,IAAIP,UAAU,IAAID,IAAI,CAACW,KAAK,EAAE;IACnCpF,OAAO,CAAC8E,aAAa,GAAI,SAAQL,IAAI,CAACW,KAAM,EAAC;EAC/C;EACA,IAAIV,UAAU,IAAID,IAAI,CAACY,GAAG,EAAE;IAC1BrF,OAAO,CAAC,SAAS,CAAC,GAAGyE,IAAI,CAACY,GAAG;EAC/B;EACA,OAAOrF,OAAO;AAChB"},"metadata":{},"sourceType":"script","externalDependencies":[]}