{"ast":null,"code":"'use strict';\n\nmodule.exports = isExtraneous;\nfunction isExtraneous(tree) {\n  var result = !isNotExtraneous(tree);\n  return result;\n}\nfunction topHasNoPjson(tree) {\n  var top = tree;\n  while (!top.isTop) top = top.parent;\n  return top.error;\n}\nfunction isNotExtraneous(tree, isCycle) {\n  if (!isCycle) isCycle = {};\n  if (tree.isTop || tree.userRequired) {\n    return true;\n  } else if (isCycle[tree.path]) {\n    return topHasNoPjson(tree);\n  } else {\n    isCycle[tree.path] = true;\n    return tree.requiredBy && tree.requiredBy.some(function (node) {\n      return isNotExtraneous(node, Object.create(isCycle));\n    });\n  }\n}","map":{"version":3,"names":["module","exports","isExtraneous","tree","result","isNotExtraneous","topHasNoPjson","top","isTop","parent","error","isCycle","userRequired","path","requiredBy","some","node","Object","create"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/is-extraneous.js"],"sourcesContent":["'use strict'\nmodule.exports = isExtraneous\n\nfunction isExtraneous (tree) {\n  var result = !isNotExtraneous(tree)\n  return result\n}\n\nfunction topHasNoPjson (tree) {\n  var top = tree\n  while (!top.isTop) top = top.parent\n  return top.error\n}\n\nfunction isNotExtraneous (tree, isCycle) {\n  if (!isCycle) isCycle = {}\n  if (tree.isTop || tree.userRequired) {\n    return true\n  } else if (isCycle[tree.path]) {\n    return topHasNoPjson(tree)\n  } else {\n    isCycle[tree.path] = true\n    return tree.requiredBy && tree.requiredBy.some(function (node) {\n      return isNotExtraneous(node, Object.create(isCycle))\n    })\n  }\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,OAAO,GAAGC,YAAY;AAE7B,SAASA,YAAYA,CAAEC,IAAI,EAAE;EAC3B,IAAIC,MAAM,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC;EACnC,OAAOC,MAAM;AACf;AAEA,SAASE,aAAaA,CAAEH,IAAI,EAAE;EAC5B,IAAII,GAAG,GAAGJ,IAAI;EACd,OAAO,CAACI,GAAG,CAACC,KAAK,EAAED,GAAG,GAAGA,GAAG,CAACE,MAAM;EACnC,OAAOF,GAAG,CAACG,KAAK;AAClB;AAEA,SAASL,eAAeA,CAAEF,IAAI,EAAEQ,OAAO,EAAE;EACvC,IAAI,CAACA,OAAO,EAAEA,OAAO,GAAG,CAAC,CAAC;EAC1B,IAAIR,IAAI,CAACK,KAAK,IAAIL,IAAI,CAACS,YAAY,EAAE;IACnC,OAAO,IAAI;EACb,CAAC,MAAM,IAAID,OAAO,CAACR,IAAI,CAACU,IAAI,CAAC,EAAE;IAC7B,OAAOP,aAAa,CAACH,IAAI,CAAC;EAC5B,CAAC,MAAM;IACLQ,OAAO,CAACR,IAAI,CAACU,IAAI,CAAC,GAAG,IAAI;IACzB,OAAOV,IAAI,CAACW,UAAU,IAAIX,IAAI,CAACW,UAAU,CAACC,IAAI,CAAC,UAAUC,IAAI,EAAE;MAC7D,OAAOX,eAAe,CAACW,IAAI,EAAEC,MAAM,CAACC,MAAM,CAACP,OAAO,CAAC,CAAC;IACtD,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}