{"ast":null,"code":"'use strict';\n\nvar fs = require('fs');\nvar inflight = require('inflight');\nvar accessError = require('./access-error.js');\nvar isFsAccessAvailable = require('./is-fs-access-available.js');\nif (isFsAccessAvailable) {\n  module.exports = fsAccessImplementation;\n} else {\n  module.exports = fsStatImplementation;\n}\n\n// exposed only for testing purposes\nmodule.exports.fsAccessImplementation = fsAccessImplementation;\nmodule.exports.fsStatImplementation = fsStatImplementation;\nfunction fsAccessImplementation(dir, done) {\n  done = inflight('exists:' + dir, done);\n  if (!done) return;\n  fs.access(dir, fs.F_OK, done);\n}\nfunction fsStatImplementation(dir, done) {\n  done = inflight('exists:' + dir, done);\n  if (!done) return;\n  fs.stat(dir, function (er) {\n    done(accessError(dir, er));\n  });\n}","map":{"version":3,"names":["fs","require","inflight","accessError","isFsAccessAvailable","module","exports","fsAccessImplementation","fsStatImplementation","dir","done","access","F_OK","stat","er"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/exists.js"],"sourcesContent":["'use strict'\nvar fs = require('fs')\nvar inflight = require('inflight')\nvar accessError = require('./access-error.js')\nvar isFsAccessAvailable = require('./is-fs-access-available.js')\n\nif (isFsAccessAvailable) {\n  module.exports = fsAccessImplementation\n} else {\n  module.exports = fsStatImplementation\n}\n\n// exposed only for testing purposes\nmodule.exports.fsAccessImplementation = fsAccessImplementation\nmodule.exports.fsStatImplementation = fsStatImplementation\n\nfunction fsAccessImplementation (dir, done) {\n  done = inflight('exists:' + dir, done)\n  if (!done) return\n  fs.access(dir, fs.F_OK, done)\n}\n\nfunction fsStatImplementation (dir, done) {\n  done = inflight('exists:' + dir, done)\n  if (!done) return\n  fs.stat(dir, function (er) { done(accessError(dir, er)) })\n}\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACtB,IAAIC,QAAQ,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIE,WAAW,GAAGF,OAAO,CAAC,mBAAmB,CAAC;AAC9C,IAAIG,mBAAmB,GAAGH,OAAO,CAAC,6BAA6B,CAAC;AAEhE,IAAIG,mBAAmB,EAAE;EACvBC,MAAM,CAACC,OAAO,GAAGC,sBAAsB;AACzC,CAAC,MAAM;EACLF,MAAM,CAACC,OAAO,GAAGE,oBAAoB;AACvC;;AAEA;AACAH,MAAM,CAACC,OAAO,CAACC,sBAAsB,GAAGA,sBAAsB;AAC9DF,MAAM,CAACC,OAAO,CAACE,oBAAoB,GAAGA,oBAAoB;AAE1D,SAASD,sBAAsBA,CAAEE,GAAG,EAAEC,IAAI,EAAE;EAC1CA,IAAI,GAAGR,QAAQ,CAAC,SAAS,GAAGO,GAAG,EAAEC,IAAI,CAAC;EACtC,IAAI,CAACA,IAAI,EAAE;EACXV,EAAE,CAACW,MAAM,CAACF,GAAG,EAAET,EAAE,CAACY,IAAI,EAAEF,IAAI,CAAC;AAC/B;AAEA,SAASF,oBAAoBA,CAAEC,GAAG,EAAEC,IAAI,EAAE;EACxCA,IAAI,GAAGR,QAAQ,CAAC,SAAS,GAAGO,GAAG,EAAEC,IAAI,CAAC;EACtC,IAAI,CAACA,IAAI,EAAE;EACXV,EAAE,CAACa,IAAI,CAACJ,GAAG,EAAE,UAAUK,EAAE,EAAE;IAAEJ,IAAI,CAACP,WAAW,CAACM,GAAG,EAAEK,EAAE,CAAC,CAAC;EAAC,CAAC,CAAC;AAC5D"},"metadata":{},"sourceType":"script","externalDependencies":[]}