{"ast":null,"code":"'use strict';\n\nconst {\n  EOL\n} = require('os');\nconst computeMetadata = require('./deps.js').computeMetadata;\nconst mutateIntoLogicalTree = require('./mutate-into-logical-tree.js');\nvar {\n  getFundingInfo\n} = require('../utils/funding.js');\nexports.getPrintFundingReport = getPrintFundingReport;\nexports.getPrintFundingReportJSON = getPrintFundingReportJSON;\nfunction getFundingResult(_ref) {\n  let {\n    fund,\n    idealTree\n  } = _ref;\n  if (fund) {\n    const fundingInfoTree = mutateIntoLogicalTree.asReadInstalled(computeMetadata(idealTree));\n    const fundResult = getFundingInfo(fundingInfoTree, {\n      countOnly: true\n    });\n    return fundResult;\n  } else {\n    return {};\n  }\n}\nfunction getPrintFundingReport(_ref2, opts) {\n  let {\n    fund,\n    idealTree\n  } = _ref2;\n  const fundResult = getFundingResult({\n    fund,\n    idealTree\n  });\n  const {\n    length\n  } = fundResult || {};\n  const {\n    json\n  } = opts || {};\n  function padding(msg) {\n    return json ? '' : EOL + msg;\n  }\n  function packageQuantity(amount) {\n    return `package${amount > 1 ? 's are' : ' is'}`;\n  }\n  if (!length) return '';\n  return padding('') + length + ' ' + packageQuantity(length) + ' looking for funding' + padding('  run `npm fund` for details\\n');\n}\nfunction getPrintFundingReportJSON(_ref3) {\n  let {\n    fund,\n    idealTree\n  } = _ref3;\n  return getPrintFundingReport({\n    fund,\n    idealTree\n  }, {\n    json: true\n  });\n}","map":{"version":3,"names":["EOL","require","computeMetadata","mutateIntoLogicalTree","getFundingInfo","exports","getPrintFundingReport","getPrintFundingReportJSON","getFundingResult","_ref","fund","idealTree","fundingInfoTree","asReadInstalled","fundResult","countOnly","_ref2","opts","length","json","padding","msg","packageQuantity","amount","_ref3"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/fund.js"],"sourcesContent":["'use strict'\n\nconst { EOL } = require('os')\n\nconst computeMetadata = require('./deps.js').computeMetadata\nconst mutateIntoLogicalTree = require('./mutate-into-logical-tree.js')\nvar { getFundingInfo } = require('../utils/funding.js')\n\nexports.getPrintFundingReport = getPrintFundingReport\nexports.getPrintFundingReportJSON = getPrintFundingReportJSON\n\nfunction getFundingResult ({ fund, idealTree }) {\n  if (fund) {\n    const fundingInfoTree =\n      mutateIntoLogicalTree.asReadInstalled(\n        computeMetadata(idealTree)\n      )\n    const fundResult = getFundingInfo(fundingInfoTree, { countOnly: true })\n    return fundResult\n  } else {\n    return {}\n  }\n}\n\nfunction getPrintFundingReport ({ fund, idealTree }, opts) {\n  const fundResult = getFundingResult({ fund, idealTree })\n  const { length } = fundResult || {}\n  const { json } = opts || {}\n\n  function padding (msg) {\n    return json ? '' : (EOL + msg)\n  }\n\n  function packageQuantity (amount) {\n    return `package${amount > 1 ? 's are' : ' is'}`\n  }\n\n  if (!length) return ''\n\n  return padding('') + length + ' ' +\n    packageQuantity(length) +\n    ' looking for funding' +\n    padding('  run `npm fund` for details\\n')\n}\n\nfunction getPrintFundingReportJSON ({ fund, idealTree }) {\n  return getPrintFundingReport({ fund, idealTree }, { json: true })\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA;AAAI,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;AAE7B,MAAMC,eAAe,GAAGD,OAAO,CAAC,WAAW,CAAC,CAACC,eAAe;AAC5D,MAAMC,qBAAqB,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AACtE,IAAI;EAAEG;AAAe,CAAC,GAAGH,OAAO,CAAC,qBAAqB,CAAC;AAEvDI,OAAO,CAACC,qBAAqB,GAAGA,qBAAqB;AACrDD,OAAO,CAACE,yBAAyB,GAAGA,yBAAyB;AAE7D,SAASC,gBAAgBA,CAAAC,IAAA,EAAuB;EAAA,IAArB;IAAEC,IAAI;IAAEC;EAAU,CAAC,GAAAF,IAAA;EAC5C,IAAIC,IAAI,EAAE;IACR,MAAME,eAAe,GACnBT,qBAAqB,CAACU,eAAe,CACnCX,eAAe,CAACS,SAAS,CAAC,CAC3B;IACH,MAAMG,UAAU,GAAGV,cAAc,CAACQ,eAAe,EAAE;MAAEG,SAAS,EAAE;IAAK,CAAC,CAAC;IACvE,OAAOD,UAAU;EACnB,CAAC,MAAM;IACL,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASR,qBAAqBA,CAAAU,KAAA,EAAuBC,IAAI,EAAE;EAAA,IAA3B;IAAEP,IAAI;IAAEC;EAAU,CAAC,GAAAK,KAAA;EACjD,MAAMF,UAAU,GAAGN,gBAAgB,CAAC;IAAEE,IAAI;IAAEC;EAAU,CAAC,CAAC;EACxD,MAAM;IAAEO;EAAO,CAAC,GAAGJ,UAAU,IAAI,CAAC,CAAC;EACnC,MAAM;IAAEK;EAAK,CAAC,GAAGF,IAAI,IAAI,CAAC,CAAC;EAE3B,SAASG,OAAOA,CAAEC,GAAG,EAAE;IACrB,OAAOF,IAAI,GAAG,EAAE,GAAInB,GAAG,GAAGqB,GAAI;EAChC;EAEA,SAASC,eAAeA,CAAEC,MAAM,EAAE;IAChC,OAAQ,UAASA,MAAM,GAAG,CAAC,GAAG,OAAO,GAAG,KAAM,EAAC;EACjD;EAEA,IAAI,CAACL,MAAM,EAAE,OAAO,EAAE;EAEtB,OAAOE,OAAO,CAAC,EAAE,CAAC,GAAGF,MAAM,GAAG,GAAG,GAC/BI,eAAe,CAACJ,MAAM,CAAC,GACvB,sBAAsB,GACtBE,OAAO,CAAC,gCAAgC,CAAC;AAC7C;AAEA,SAASb,yBAAyBA,CAAAiB,KAAA,EAAuB;EAAA,IAArB;IAAEd,IAAI;IAAEC;EAAU,CAAC,GAAAa,KAAA;EACrD,OAAOlB,qBAAqB,CAAC;IAAEI,IAAI;IAAEC;EAAU,CAAC,EAAE;IAAEQ,IAAI,EAAE;EAAK,CAAC,CAAC;AACnE"},"metadata":{},"sourceType":"script","externalDependencies":[]}