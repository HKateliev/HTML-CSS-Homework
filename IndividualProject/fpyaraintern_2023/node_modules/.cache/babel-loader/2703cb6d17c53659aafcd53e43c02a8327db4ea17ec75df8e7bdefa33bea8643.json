{"ast":null,"code":"// this is the only approach that was significantly faster than using\n// str.replace(/\\/+$/, '') for strings ending with a lot of / chars and\n// containing multiple / chars.\nconst batchStrings = ['/'.repeat(1024), '/'.repeat(512), '/'.repeat(256), '/'.repeat(128), '/'.repeat(64), '/'.repeat(32), '/'.repeat(16), '/'.repeat(8), '/'.repeat(4), '/'.repeat(2), '/'];\nmodule.exports = str => {\n  for (const s of batchStrings) {\n    while (str.length >= s.length && str.slice(-1 * s.length) === s) str = str.slice(0, -1 * s.length);\n  }\n  return str;\n};","map":{"version":3,"names":["batchStrings","repeat","module","exports","str","s","length","slice"],"sources":["/Users/hkateliev/node_modules/npm/node_modules/tar/lib/strip-trailing-slashes.js"],"sourcesContent":["// this is the only approach that was significantly faster than using\n// str.replace(/\\/+$/, '') for strings ending with a lot of / chars and\n// containing multiple / chars.\nconst batchStrings = [\n  '/'.repeat(1024),\n  '/'.repeat(512),\n  '/'.repeat(256),\n  '/'.repeat(128),\n  '/'.repeat(64),\n  '/'.repeat(32),\n  '/'.repeat(16),\n  '/'.repeat(8),\n  '/'.repeat(4),\n  '/'.repeat(2),\n  '/',\n]\n\nmodule.exports = str => {\n  for (const s of batchStrings) {\n    while (str.length >= s.length && str.slice(-1 * s.length) === s)\n      str = str.slice(0, -1 * s.length)\n  }\n  return str\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,YAAY,GAAG,CACnB,GAAG,CAACC,MAAM,CAAC,IAAI,CAAC,EAChB,GAAG,CAACA,MAAM,CAAC,GAAG,CAAC,EACf,GAAG,CAACA,MAAM,CAAC,GAAG,CAAC,EACf,GAAG,CAACA,MAAM,CAAC,GAAG,CAAC,EACf,GAAG,CAACA,MAAM,CAAC,EAAE,CAAC,EACd,GAAG,CAACA,MAAM,CAAC,EAAE,CAAC,EACd,GAAG,CAACA,MAAM,CAAC,EAAE,CAAC,EACd,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,EACb,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,EACb,GAAG,CAACA,MAAM,CAAC,CAAC,CAAC,EACb,GAAG,CACJ;AAEDC,MAAM,CAACC,OAAO,GAAGC,GAAG,IAAI;EACtB,KAAK,MAAMC,CAAC,IAAIL,YAAY,EAAE;IAC5B,OAAOI,GAAG,CAACE,MAAM,IAAID,CAAC,CAACC,MAAM,IAAIF,GAAG,CAACG,KAAK,CAAC,CAAC,CAAC,GAAGF,CAAC,CAACC,MAAM,CAAC,KAAKD,CAAC,EAC7DD,GAAG,GAAGA,GAAG,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGF,CAAC,CAACC,MAAM,CAAC;EACrC;EACA,OAAOF,GAAG;AACZ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}