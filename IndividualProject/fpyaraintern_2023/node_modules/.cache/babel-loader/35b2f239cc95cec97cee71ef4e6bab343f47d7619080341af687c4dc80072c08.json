{"ast":null,"code":"'use strict';\n\nvar createNode = require('./node.js').create;\nmodule.exports = function (tree) {\n  return copyTree(tree, {});\n};\nfunction copyTree(tree, cache) {\n  if (cache[tree.path]) {\n    return cache[tree.path];\n  }\n  var newTree = cache[tree.path] = createNode(Object.assign({}, tree));\n  copyModuleList(newTree, 'children', cache);\n  newTree.children.forEach(function (child) {\n    child.parent = newTree;\n  });\n  copyModuleList(newTree, 'requires', cache);\n  copyModuleList(newTree, 'requiredBy', cache);\n  return newTree;\n}\nfunction copyModuleList(tree, key, cache) {\n  var newList = [];\n  if (tree[key]) {\n    tree[key].forEach(function (child) {\n      const copy = copyTree(child, cache);\n      if (copy) {\n        newList.push(copy);\n      }\n    });\n  }\n  tree[key] = newList;\n}","map":{"version":3,"names":["createNode","require","create","module","exports","tree","copyTree","cache","path","newTree","Object","assign","copyModuleList","children","forEach","child","parent","key","newList","copy","push"],"sources":["/Users/hkateliev/node_modules/npm/lib/install/copy-tree.js"],"sourcesContent":["'use strict'\nvar createNode = require('./node.js').create\nmodule.exports = function (tree) {\n  return copyTree(tree, {})\n}\n\nfunction copyTree (tree, cache) {\n  if (cache[tree.path]) { return cache[tree.path] }\n  var newTree = cache[tree.path] = createNode(Object.assign({}, tree))\n  copyModuleList(newTree, 'children', cache)\n  newTree.children.forEach(function (child) {\n    child.parent = newTree\n  })\n  copyModuleList(newTree, 'requires', cache)\n  copyModuleList(newTree, 'requiredBy', cache)\n  return newTree\n}\n\nfunction copyModuleList (tree, key, cache) {\n  var newList = []\n  if (tree[key]) {\n    tree[key].forEach(function (child) {\n      const copy = copyTree(child, cache)\n      if (copy) {\n        newList.push(copy)\n      }\n    })\n  }\n  tree[key] = newList\n}\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,UAAU,GAAGC,OAAO,CAAC,WAAW,CAAC,CAACC,MAAM;AAC5CC,MAAM,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAE;EAC/B,OAAOC,QAAQ,CAACD,IAAI,EAAE,CAAC,CAAC,CAAC;AAC3B,CAAC;AAED,SAASC,QAAQA,CAAED,IAAI,EAAEE,KAAK,EAAE;EAC9B,IAAIA,KAAK,CAACF,IAAI,CAACG,IAAI,CAAC,EAAE;IAAE,OAAOD,KAAK,CAACF,IAAI,CAACG,IAAI,CAAC;EAAC;EAChD,IAAIC,OAAO,GAAGF,KAAK,CAACF,IAAI,CAACG,IAAI,CAAC,GAAGR,UAAU,CAACU,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEN,IAAI,CAAC,CAAC;EACpEO,cAAc,CAACH,OAAO,EAAE,UAAU,EAAEF,KAAK,CAAC;EAC1CE,OAAO,CAACI,QAAQ,CAACC,OAAO,CAAC,UAAUC,KAAK,EAAE;IACxCA,KAAK,CAACC,MAAM,GAAGP,OAAO;EACxB,CAAC,CAAC;EACFG,cAAc,CAACH,OAAO,EAAE,UAAU,EAAEF,KAAK,CAAC;EAC1CK,cAAc,CAACH,OAAO,EAAE,YAAY,EAAEF,KAAK,CAAC;EAC5C,OAAOE,OAAO;AAChB;AAEA,SAASG,cAAcA,CAAEP,IAAI,EAAEY,GAAG,EAAEV,KAAK,EAAE;EACzC,IAAIW,OAAO,GAAG,EAAE;EAChB,IAAIb,IAAI,CAACY,GAAG,CAAC,EAAE;IACbZ,IAAI,CAACY,GAAG,CAAC,CAACH,OAAO,CAAC,UAAUC,KAAK,EAAE;MACjC,MAAMI,IAAI,GAAGb,QAAQ,CAACS,KAAK,EAAER,KAAK,CAAC;MACnC,IAAIY,IAAI,EAAE;QACRD,OAAO,CAACE,IAAI,CAACD,IAAI,CAAC;MACpB;IACF,CAAC,CAAC;EACJ;EACAd,IAAI,CAACY,GAAG,CAAC,GAAGC,OAAO;AACrB"},"metadata":{},"sourceType":"script","externalDependencies":[]}